<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	
	<p:dataTable value="#{item.grillaVO.rows}" var="row" >
	
			<p:columnGroup type="header">  
            <p:row>  
                <p:column rowspan="3" headerText="Manufacturer" />  
                <p:column colspan="4" headerText="Sales" />  
            </p:row>  
  
            <p:row>  
                <p:column colspan="2" headerText="Sales Count" />  
                <p:column colspan="2" headerText="Profit" />  
            </p:row>  
  
            <p:row>  
                <p:column headerText="Last Year" />  
                <p:column headerText="This Year" />  
                <p:column headerText="Last Year" />  
                <p:column headerText="This Year" />  
            </p:row>  
        </p:columnGroup>  
       		
	         <p:columns value="#{item.grillaVO.columnas}" var="col" columnIndexVar="colIndex" >  
	            
	            <f:facet name="header">  
	                 <h:outputText value="#{col.tituloColumna}" />
	            </f:facet>  
	            
                <h:outputText value="#{row[col.idColumna].valor}" id="ot7"
                               style="#{row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5 ? 'padding-left:10px;font-weight:bold' : 'padding-left:10px'}"
                               rendered="#{ (row[col.idColumna].tipoCelda.idTipoCelda == 0 or row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5) and (row[col.idColumna].tipoDato.idTipoDato != 2 and row[col.idColumna].tipoDato.idTipoDato != 3) }"></h:outputText>
                <h:outputText value="#{row[col.idColumna].valor}" id="ot8"
                               inlineStyle="font-weight:bold; text-align:left;"
                               rendered="#{row[col.idColumna].tipoCelda.idTipoCelda == 2}"></h:outputText>
                <p:inputText value="#{row[col.idColumna].valor}" id="it7"  style="text-align:left;"                                  
                              rendered="#{row[col.idColumna].tipoCelda.idTipoCelda == 6 and row[col.idColumna].tipoDato.idTipoDato == 0}"
                              maximumLength="#{msg.constantes_max_caracter_cuadro}">
                    <f:validateLength maximum="#{msg.constantes_max_caracter_cuadro}"/>
                </p:inputText>
                <p:inputText value="#{row[col.idColumna].valorLong}" id="it8"
                              rendered="#{row[col.idColumna].tipoDato.idTipoDato == 2}"
                              disabled="#{row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5}"
                              style="#{row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5 ? 'border:none;background-color: white;font-weight:bold;color:black':''}"
                              maxlength="#{msg.constantes_text_length_long}">
                    
                    <f:convertNumber integerOnly="true" type="number" maxFractionDigits="0" groupingUsed="true" locale="#{procesoBackingBean.localeCL}"
                    maxIntegerDigits="#{msg.constantes_max_lenght_number}" pattern="##,###,###,###" />
                    <f:validateLongRange maximum="#{msg.constantes_maximum_validate_long_range}" />
                </p:inputText>
                <p:inputText  value="#{row[col.idColumna].valorBigDecimal}" id="it9"
                              rendered="#{row[col.idColumna].tipoDato.idTipoDato == 3}"
                              maximumLength="#{msg.constantes_text_length_decimal}"
                              disabled="#{row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5}"
                              style="#{row[col.idColumna].tipoCelda.idTipoCelda == 4 or row[col.idColumna].tipoCelda.idTipoCelda == 5 ? 'border:none;background-color: white;font-weight:bold;color:black':''}">
                    
                    <f:convertNumber integerOnly="false" type="number"
                                      maxIntegerDigits="#{msg.constantes_max_lenght_number}"
                                      maxFractionDigits="4"
                                      locale="#{procesoBackingBean.localeCL}" pattern="##,###,###,###.####"/>
                    <f:validateDoubleRange maximum="#{msg.constantes_maximum_validate_long_range}"  />
                </p:inputText>
                <p:inputText value="#{row[col.idColumna].valorDate}" id="it10" label=" "
                              rendered="#{row[col.idColumna].tipoDato.idTipoDato == 1 and row[col.idColumna].tipoCelda.idTipoCelda == 6}">
                    <f:convertDateTime pattern="dd-MM-yyyy" type="date"/>
                </p:inputText>
                <p:panelGrid columns="3" rendered="#{row[col.idColumna].tipoCelda.idTipoCelda == 3}" >  
                    <p:commandLink actionListener="#{procesoBackingBean.addRowListener}" id="cl2" rendered="true" update="@form">
                    	<p:graphicImage id="gVgi1" value="../../resources/images/icon/add2.png" title="#{msg.general_control_agregarFila}" />     
                        <f:param name="idFila" value="#{row[col.idColumna].idFila}" id="p1"/>
                        <f:param name="idGrilla" value="#{row[col.idColumna].idGrilla}" id="p2"/>
                    </p:commandLink>
                    <p:spacer width="10" id="s1"/>
                    <p:commandLink actionListener="#{procesoBackingBean.deleteRowListener}" id="cl3" rendered="true" update="@form">
                        <p:graphicImage id="gVgi2" value="../../resources/images/icon/remove2.png" title="#{msg.generador_eliminar_fila}" />
                        <f:param name="idFila" value="#{row[col.idColumna].idFila}" id="p3"/>
                        <f:param name="idGrilla" value="#{row[col.idColumna].idGrilla}" id="p4"/>
                    </p:commandLink>
                </p:panelGrid>
	           
	        </p:columns>  
       			
    </p:dataTable>
    
    <p:spacer height="20px"/>
    
       		
</ui:composition>