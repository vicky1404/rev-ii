<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/main-template.xhtml">
	<ui:define name="content">
		<h:outputScript name="js/util/form-util.js" />
		<h:form id="f_estructura_grupo">
			<p:messages id="messages_estructura_grupo" autoUpdate="true"
				showDetail="true" showSummary="true" />
			<p:ajaxStatus onstart="statusDialog.show();"
				oncomplete="statusDialog.hide();" />
			<ui:include src="/WEB-INF/templates/ajax-dialog-template.xhtml" />
			<p:panel id="filtro_cuadro_grupo"
				header="#{menuBackingBean.breadcrumb}"
				toggleable="true" closable="false" toggleSpeed="500"
				closeSpeed="2000" widgetVar="panel">
				<h:panelGrid columns="3">
					<p:outputLabel value="#{msg.label_grupo}:" for="sg" />
					<p:selectOneMenu label="#{msg.label_grupo}" id="sg"
						value="#{estructuraPorGrupoBackingBean.idGrupoSelected}"
						required="true" requiredMessage="#{msg.mensaje_seleccione_valor}">
						<f:selectItem itemLabel="#{msg.label_seleccione}" />
						<f:selectItems
							value="#{estructuraPorGrupoBackingBean.componenteBackingBean.grupoList}"
							var="grupo" itemLabel="#{grupo.nombre}"
							itemValue="#{grupo.idGrupoAcceso}" />
					</p:selectOneMenu>
					<h:message for="sg" styleClass="ui-outputlabel ui-state-error" />
					<!-- p:outputLabel value="#{msg.label_tipo_cuadro}:" for="stc"  />
					<p:selectOneMenu label="#{msg.label_tipo_cuadro}"
						converter="tipoCuadroConverter" id="stc"
						value="#{estructuraPorGrupoBackingBean.tipoCuadroSelected}"
						required="false" requiredMessage="#{msg.mensaje_seleccione_valor}">
						<f:selectItem itemLabel="#{msg.label_seleccione}" />
						<f:selectItems
							value="#{estructuraPorGrupoBackingBean.componenteBackingBean.tipoCuadroItems}" />
					</p:selectOneMenu>
					<p:message for="stc" /-->
				</h:panelGrid>
				<h:panelGrid columns="3">
					<h:outputLabel value=" " />
					<p:commandButton value="#{msg.boton_buscar}" icon="ui-icon-search"
						actionListener="#{estructuraPorGrupoBackingBean.buscarEstructurasPorGrupoAction}"
						update="tabla_menu" ajax="false">
					</p:commandButton>
					<p:commandButton icon="ui-icon-cancel" value="#{msg.boton_cancel}"
						id="btnCancelar11" immediate="true"
						action="estructura-por-grupo?faces-redirect=true">
					</p:commandButton>
				</h:panelGrid>

			</p:panel>
			<br />
			<p:toolbar
				rendered="#{estructuraPorGrupoBackingBean.renderTablaCatalogo}">
				<p:toolbarGroup>
					<p:commandButton icon="ui-icon-disk"
						value="#{msg.guardar_estructura_grupo}" id="btnGuardar"
						actionListener="#{estructuraPorGrupoBackingBean.guardarCatalogoGrupoAction}"
						update="messages_estructura_grupo">
					</p:commandButton>
					<p:separator />
					<p:commandLink value="#{msg.label_seleccionar_todo}"
						onclick="selectAll()"></p:commandLink>
					<p:separator />
					<p:commandLink value="#{msg.label_no_seleccionar_todo}"
						onclick="unSelectAll()"></p:commandLink>
				</p:toolbarGroup>
			</p:toolbar>
			<p:dataTable emptyMessage="#{msg.mensaje_tabla_sin_registros}"
				value="#{estructuraPorGrupoBackingBean.grillaCatalogoList}"
				id="tabla_catalogo" var="row" lazy="false"
				rendered="#{estructuraPorGrupoBackingBean.renderTablaCatalogo}">
				<p:column headerText="#{msg.label_seleccionar}"
					style="text-align:center;" id="c2" width="100">
					<h:selectBooleanCheckbox value="#{row.selected}" id="sel1"
						label=" " />
				</p:column>
				<p:column sortable="false" headerText="#{msg.tabla_cabecera_nombre}"
					align="left" id="c3" width="150" sortBy="#{row.entity.orden}">
					<h:outputText value="#{row.entity.nombre}" id="ot1" />
				</p:column>
				<p:column sortable="false" headerText="#{msg.tabla_cabecera_titulo}"
					align="left" id="c4">
					<h:outputText value="#{row.entity.titulo}" id="ot2" />
				</p:column>
				<p:column sortable="false" headerText="#{msg.label_tipo_cuadro}"
					align="left" id="c6" rowHeader="unstyled">
					<h:outputText value="#{row.entity.tipoCuadro.nombre}" id="ot4" />
				</p:column>
				<f:facet name="footer">
					<br />
				</f:facet>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
