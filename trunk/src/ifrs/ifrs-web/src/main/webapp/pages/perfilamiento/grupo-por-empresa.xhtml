<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/main-template.xhtml">
	<ui:define name="content">
		<h:form id="form_grupo_empresa">
			<p:growl id="messages_usuario_grupo" autoUpdate="true"
				showDetail="true" showSummary="true" />
			<p:ajaxStatus onstart="statusDialog.show();"
				oncomplete="statusDialog.hide();" />
			<ui:include src="/WEB-INF/templates/ajax-dialog-template.xhtml" />
			<p:panel id="filtro_grupo_empresa"
				header="Grupo de Usuario por Empresa" toggleable="true"
				closable="false" toggleSpeed="500" closeSpeed="2000"
				widgetVar="panel">
				<h:panelGrid columns="3">
					<p:outputLabel value="Empresa:" for="som1" />
					<p:selectOneMenu label="Empresa"
						value="#{grupoPorEmpresaBackingBean.empresa.rut}" required="true"
						id="som1" requiredMessage="#{msg.mensaje_seleccione_valor}">
						<f:selectItem itemLabel="#{msg.label_seleccione}" />
						<f:selectItems
							value="#{usuarioPorGrupoBackingBean.componenteBackingBean.empresaList}"
							var="empresa" itemValue="#{empresa.rut}"
							itemLabel="#{empresa.razonSocial}" />
					</p:selectOneMenu>
					<h:message for="som1" styleClass="ui-outputlabel ui-state-error" />
				</h:panelGrid>
				<h:panelGrid columns="3">
					<h:outputLabel value="" />
					<p:commandButton value="#{msg.boton_buscar}" icon="ui-icon-search"
						actionListener="#{grupoPorEmpresaBackingBean.buscarAction}"
						ajax="false">
					</p:commandButton>
					<p:commandButton icon="ui-icon-cancel" value="#{msg.boton_cancel}"
						id="btnCancelar11" immediate="true"
						action="grupo-por-empresa?faces-redirect=true">
					</p:commandButton>
				</h:panelGrid>
			</p:panel>
			<br />
			<p:fieldset legend="#{msg.titulo_agregar_usuarios_grupo}"
				id="fieldset_grupo_empresa"
				rendered="#{grupoPorEmpresaBackingBean.renderDualList}">
				<p:pickList id="pickList"
					value="#{grupoPorEmpresaBackingBean.dualListModelGrupos}"
					var="grupo" rendered="#{grupoPorEmpresaBackingBean.renderDualList}"
					itemLabel="#{grupo}" itemValue="#{grupo}"
					addAllLabel="#{msg.label_agregar_todos}"
					removeAllLabel="#{msg.label_remover_todos}"
					removeLabel="#{msg.label_remover}" addLabel="#{msg.boton_agregar}">
					<f:facet name="sourceCaption">Todos los Grupos</f:facet>
					<f:facet name="targetCaption">Grupos Asociados a la Empresa</f:facet>
				</p:pickList>
				<h:panelGrid>
					<p:commandButton value="#{msg.boton_guardar}"
						actionListener="#{grupoPorEmpresaBackingBean.guardarAction}"></p:commandButton>
				</h:panelGrid>
			</p:fieldset>
		</h:form>
	</ui:define>
</ui:composition>
