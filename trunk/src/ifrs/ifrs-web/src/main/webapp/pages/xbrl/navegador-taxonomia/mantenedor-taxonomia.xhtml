<?xml version="1.0" encoding="ISO-8859-1"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/main-template.xhtml">
	<ui:define name="content">
		<h:form id="f_mt">
			<p:messages id="messages_navegador_taxonomia" autoUpdate="true"
				showSummary="true" showDetail="true"></p:messages>
			<p:ajaxStatus onstart="statusDialog.show();"
				oncomplete="statusDialog.hide();" />
			<ui:include src="/WEB-INF/templates/ajax-dialog-template.xhtml" />

			<p:panel id="filtro_navegador_taxonomia"
				header="#{menuBackingBean.breadcrumb}" toggleable="true" closable="false"
				toggleSpeed="500" closeSpeed="2000" widgetVar="panel">

				<h:panelGrid columns="3" id="pg1" columnClasses="ancho_50">
					<h:outputLabel value="Fecha:" id="ol1" />
					<p:calendar id="id1" label=" " showOn="button"
						value="#{mantenedorTaxonomiaBackingBean.fechaDesde}"
						binding="#{mantenedorTaxonomiaBackingBean.inputFechaDesde}"
						pattern="dd-MM-yyyy">
					</p:calendar>
					<p:calendar id="id2" label=" " showOn="button"
						value="#{mantenedorTaxonomiaBackingBean.fechaHasta}"
						binding="#{mantenedorTaxonomiaBackingBean.inputFechaHasta}"
						pattern="dd-MM-yyyy">
					</p:calendar>
				</h:panelGrid>
				<h:panelGrid columns="2" id="pg2" columnClasses="ancho_50">
					<h:outputLabel value="Estado:" id="ol2" />
					<p:selectOneMenu label=" " id="soc1vigente"
						value="#{mantenedorTaxonomiaBackingBean.vigente}">
						<f:selectItem itemLabel="#{msg.general_control_seleccione}"
							id="sel1" />
						<f:selectItems
							value="#{mantenedorTaxonomiaBackingBean.componenteBackingBean.vigencias}"
							id="vigencia" />
					</p:selectOneMenu>
				</h:panelGrid>
				<h:panelGrid columns="3" id="pg3" columnClasses="ancho_140">
					<p:spacer width="10" id="s1" />
					<p:commandButton value="#{msg.general_control_cancelar}"
						id="cb1Cancelar" partialSubmit="false" immediate="true"
						action="mantenedor-taxonomia?faces-redirect=true" icon="ui-icon-cancel">
					</p:commandButton>
					<p:commandButton value="#{msg.general_control_buscar}" id="cb1"
						update="@form"  icon="ui-icon-search"
						action="#{mantenedorTaxonomiaBackingBean.buscarTaxonimiaAction}" />
				</h:panelGrid>

			</p:panel>
			<p:spacer height="10" id="s3" />
			<p:toolbar>
				<p:toolbarGroup>
					<p:commandButton
						action="#{mantenedorTaxonomiaBackingBean.guardarAction}"
						value="#{msg.general_control_guardar}" id="cb1Guardar"
						partialSubmit="true" update="@form" icon="ui-icon-disk">
					</p:commandButton>
					<p:commandButton value="Nueva Taxonomía"
						id="cb1Agregar" partialSubmit="true" immediate="false" update="t1"
						actionListener="#{mantenedorTaxonomiaBackingBean.agregarFilaAction}"
						icon="ui-icon-plus">
					</p:commandButton>					
				</p:toolbarGroup>
			</p:toolbar>


			<p:dataTable value="#{mantenedorTaxonomiaBackingBean.xbrlTaxonomias}" resizableColumns="true"
				var="row" emptyText=" " columnStretching="column:c5" id="t1"
				inlineStyle="width:inherit; height:auto;">
				<!--af:column sortable="false" headerText="Id Taxonomia" align="start" id="c1" rowHeader="unstyled">
                        <af:outputText value="#{row.idTaxonomia}" id="ot1"/>
                    </af:column-->
				<p:column sortable="false" headerText="Nombre de la Taxonomía"
					align="start" id="c2" width="300">
					<p:inputText value="#{row.nombre}" id="ot1" required="true" size="55" title="#{row.nombre}"/>
				</p:column>
				<p:column sortable="false" headerText="Fecha de la Taxonomía"
					align="start" id="c1" width="100">
					<p:calendar value="#{row.fechaTaxonomia}" id="ca1" required="true" size="15"
						pattern="dd-MM-yyyy" />
				</p:column>
				<p:column sortable="false"
					headerText="Nombre de Archivo Main (Shell)" align="start" id="c3"
					width="150">
					<p:inputText value="#{row.nombreArchivo}" id="ot3" required="true" size="25" title="#{row.nombreArchivo}"/>
				</p:column>
				<p:column sortable="false" headerText="Nombre de Top Taxonomy"
					align="start" id="c4" width="150">
					<p:inputText value="#{row.topTaxonomy}" id="ot4" required="true" size="25" title="#{row.topTaxonomy}"/>
				</p:column>
				<p:column sortable="false"
					headerText="URI (Path Absoluto hacia la Taxonomía)" align="start"
					id="c5">
					<p:inputText value="#{row.uri}" id="ot5" required="true" size="30" title="#{row.uri}"/>
				</p:column>
				<p:column sortable="false" headerText="Vigente" align="start"
					rowHeader="unstyled">
					<p:selectOneMenu label=" "  value="#{row.vigente}"
						showRequired="true" requiredMessageDetail="Seleccione Vigencia"
						required="true" clientComponent="true">
						<f:selectItems
							value="#{mantenedorTaxonomiaBackingBean.componenteBackingBean.vigenciaItems}"
							id="si1" />
					</p:selectOneMenu>
				</p:column>
				<f:facet name="footer">
					<br />
				</f:facet>
			</p:dataTable>
		</h:form>
	</ui:define>
</ui:composition>
